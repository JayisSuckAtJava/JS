<body>
    <button id="btn-1">1번</button>
    <button id="btn-2">2번</button>
    <button id="btn-3">3번</button>
// 
    <script>
        let i = 0;
        for (i = 1; i <= 3; i++) {
            (function(j){
            document.querySelector(`#btn-${j}`).addEventListener('click', function () {
                alert(j);
            })
        })(i)
        console.log(i);
    }


    // 아래의 형태가 Closure 현상이 일어나며 i 의 값이 4로 고정되는 상황 
    // i 는 for 문을 돌며 3번의 ++ 를만나 4가 되었고, 
    // EventListener에서 1~3의 btn{i}를 호출하지만, 인자(function)를 실행할때 i가 for 내부에 있는 i가 아닌 
    // 전역의 let i 값을 가지고 와서 alert(4) 가 되어버림, 해당하는 경우가 Closure 이고,
    // for 문의 i 인 내부값이 아닌 외부값을 참고하는 격이 되어버림.
   /* let i = 0;
    for(i = 1; i <= 3; i++) {
      document.querySelector(`#btn-${i}`).addEventListener('click', function() {
        alert(i);
      })
    }*/


    </script>
</body>